{% extends "Layout.html" %}
{% load static %}
{% block content %}

<section class="features">
  <div class="section-title">
    <h2>岗位列表</h2>
  </div>

  <form method="get" id="filter-form" class="feature-card" onsubmit="return false;">
    <!-- 搜索框 -->
    <div class="mb-3 text-start">
      <input
        type="text"
        name="keyword"
        class="form-control form-control-sm"
        placeholder="输入岗位、公司、要求等关键词"
        value="{{ keyword }}"
        aria-label="关键词搜索"
      >
    </div>

    <!-- 城市 -->
    <div class="mb-3 text-start" role="group" aria-label="城市筛选">
      <label class="form-label">城市</label>
      <div class="btn-group" role="group">
        {% for c in city %}
          <button
            type="button"
            class="btn btn-sm {% if c == selected_city %}btn-primary{% else %}btn-outline-primary{% endif %} city-btn"
            data-value="{{ c }}"
            aria-pressed="{% if c == selected_city %}true{% else %}false{% endif %}"
          >{{ c }}</button>
        {% endfor %}
      </div>
      <input type="hidden" name="city" id="city-input" value="{{ selected_city }}">
    </div>

    <!-- 学历 -->
    <div class="mb-3 text-start" role="group" aria-label="学历筛选">
      <label class="form-label">教育</label>
      <div class="btn-group" role="group">
        {% for edu in education %}
          <button
            type="button"
            class="btn btn-sm {% if edu == selected_education %}btn-primary{% else %}btn-outline-primary{% endif %} edu-btn"
            data-value="{{ edu }}"
            aria-pressed="{% if edu == selected_education %}true{% else %}false{% endif %}"
          >{{ edu }}</button>
        {% endfor %}
      </div>
      <input type="hidden" name="education" id="education-input" value="{{ selected_education }}">
    </div>

    <!-- 工作年限 -->
    <div class="mb-3 text-start" role="group" aria-label="工作年限筛选">
      <label class="form-label">年限</label>
      <div class="btn-group" role="group">
        {% for wy in work_years %}
          <button
            type="button"
            class="btn btn-sm {% if wy == selected_working_y %}btn-primary{% else %}btn-outline-primary{% endif %} workyears-btn"
            data-value="{{ wy }}"
            aria-pressed="{% if wy == selected_working_y %}true{% else %}false{% endif %}"
          >{{ wy }}</button>
        {% endfor %}
      </div>
      <input type="hidden" name="work_years" id="workyears-input" value="{{ selected_working_y }}">
    </div>
  </form>
</section>

<section class="stats">
  {% include "jobs/Table.html" %}
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'jobs/filter.js' %}"></script>
{% endblock %}
